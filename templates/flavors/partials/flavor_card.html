{# Karta smaku - komponent do użycia w siatce #}
<div class="relative group bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow">
    {# Zdjęcie smaku #}
    <div class="relative aspect-[4/3] overflow-hidden bg-gray-100">
        {% if flavor.photo %}
            <img src="{{ flavor.photo.url }}"
                 alt="{{ flavor.name }}"
                 width="400" height="300"
                 loading="lazy"
                 class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300">
        {% else %}
            <div class="w-full h-full flex items-center justify-center text-gray-400">
                <span>Brak zdjęcia</span>
            </div>
        {% endif %}

        {# Odznaka Hit Dnia #}
        {% if flavor == hit_of_the_day %}
            <div class="absolute top-2 right-2 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-1 rounded-full shadow">
                HIT DNIA
            </div>
        {% endif %}
    </div>

    {# Treść karty #}
    <div class="p-3">
        <h3 class="font-semibold text-gray-900 truncate">{{ flavor.name }}</h3>

        {# Tagi #}
        <div class="flex flex-wrap gap-1 mt-2">
            {# Typ smaku #}
            {% if flavor.flavor_type == 'milk' %}
                <span class="bg-blue-50 text-blue-700 text-xs px-2 py-0.5 rounded">Mleczny</span>
            {% elif flavor.flavor_type == 'sorbet' %}
                <span class="bg-green-50 text-green-700 text-xs px-2 py-0.5 rounded">Sorbet</span>
            {% endif %}

            {# Tagi specjalne #}
            {% for tag in flavor.tags %}
                {% if tag == 'vegan' %}
                    <span class="bg-green-100 text-green-800 text-xs px-2 py-0.5 rounded">Wegański</span>
                {% elif tag == 'lactose-free' %}
                    <span class="bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded">Bez laktozy</span>
                {% elif tag == 'sugar-free' %}
                    <span class="bg-yellow-100 text-yellow-800 text-xs px-2 py-0.5 rounded">Bez cukru</span>
                {% elif tag == 'new' %}
                    <span class="bg-purple-100 text-purple-800 text-xs px-2 py-0.5 rounded">Nowość</span>
                {% elif tag == 'seasonal' %}
                    <span class="bg-orange-100 text-orange-800 text-xs px-2 py-0.5 rounded">Sezonowy</span>
                {% endif %}
            {% endfor %}
        </div>
        {% if flavor.description %}
        <p class="text-sm text-gray-600 mt-1">{{ flavor.description }}</p>
        {% endif %}
    </div>
</div>
